<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0e0e10;
}
  
.leaderboard1 {
  max-width: 75%;
  margin: 5rem auto;
  border-radius: 1rem;
  box-shadow: 2px 2px 16px 1px #000;
  font-family: sans-serif;
}

.leaderboard2 {
  max-width: 75%;
  margin: 5rem auto;
  border-radius: 1rem;
  box-shadow: 2px 2px 16px 1px #000;
  font-family: sans-serif;
}

.leaderboard3 {
  max-width: 75%;
  margin: 5rem auto;
  border-radius: 1rem;
  box-shadow: 2px 2px 16px 1px #000;
  font-family: sans-serif;
}

a {
  text-decoration: none;
  color: inherit;
}

header {
  background-color: #ff7500;
  color: white;
  text-transform: uppercase;
  border-top-left-radius: 1rem;
  border-top-right-radius: 1rem;
  height: 14rem;
  position: relative;
}

h1 {
  font-size: 2.4rem;
  line-height: 2rem;
  position: absolute;
  margin-left: 3rem;
  top: 4rem;
}

img {
  height: 16rem;
  position: absolute;
  bottom: 0;
  right: 1rem;
}

nav {
  width: 100%;
  position: absolute;
  bottom: 0;
  font-size: 0.9rem;
  background: linear-gradient(
    to bottom,
    transparent,
    transparent 10%,
    rgba(22, 22, 22, 0.5)
  );
}

nav a {
  padding-top: 1rem;
  padding-bottom: 0.75rem;
  display: inline-block;
  font-weight: bold;
}

nav a.active {
  border-bottom: 4px solid #f0a900;
}

nav a:first-child {
  margin-left: 3rem;
}

nav a + a {
  margin-left: 1rem;
}

table {
  background-color: #16181e;
  color: #999;
  width: 100%;
  border-collapse: collapse;
  border-bottom-left-radius: 1rem;
  border-bottom-right-radius: 1rem;
  overflow: hidden;
}

thead {
  font-size: 0.7rem;
  color: #555;
  text-transform: uppercase;
}

tbody .nick {
  color: white;
  font-weight: bold;
  font-size: 0.9rem;
}

tbody tr:nth-child(2n) {
  background-color: #1f232c;
}

.nick {
  text-align: left;
}

.rank,
.sp,
.kd {
  text-align: right;
}

.rank {
  width: 4ch;
  padding-left: 1rem;
}

.sp,
.kd {
  width: 8ch;
}

th {
  padding: 1.5rem 1rem 0.5rem;
}

td {
  padding: 1rem 1rem;
}

small {
  font-size:1rem!important;
}

/* #1f232c */

</style>


<div class="leaderboard1">
  <header>
    <h1>ВТз-261с<br><small>Сессия</small></h1>
    <img src="https://i.postimg.cc/25SgLV5n/7125686-3497817.png" alt="">
    <nav>
      <a href="" class="active">Основные даты</a>
     <!-- <a href="">Squad</a> -->
    </nav>
  </header>
</div>

<script>
let children1 = [
    {
        "Дата": "09.01",
        "Время": "11:50-15:10",
        "Дисциплина": "5-8 лекция. МАШИННАЯ ГРАФИКА",
        "Аудитория": "доц.Федотова Н.В. 315",
        "Контроль": "Лекция"
    },
    {
        "Дата": "09.01",
        "Время": "15:20-18:30",
        "Дисциплина": "9-12 лекция. ОСНОВЫ СПО",
        "Аудитория": "Жариков В 1301",
        "Контроль": "Лекция"
    },
    {
        "Дата": "10.01",
        "Время": "10:10-13:20",
        "Дисциплина": "3-6 лекция. МЕТОДЫ ОПТИМИЗАЦ.",
        "Аудитория": "доц. Асанова Н.В. 314",
        "Контроль": "Лекция"
    },
    {
        "Дата": "10.01",
        "Время": "13:40-16:50",
        "Дисциплина": "7-10 лекция. СЕТИ И ТЕЛЕКОММУНИК.",
        "Аудитория": "доц. Земцов А.Н. В 1301",
        "Контроль": "Лекция"
    },
    {
        "Дата": "11.01",
        "Время": "13:40-16:50",
        "Дисциплина": "7-10 лабораторная. СЕТИ И ТЕЛЕКОММУНИК.",
        "Аудитория": "Земцов В 1303",
        "Контроль": "Лекция, Лаба"
    },
    {
        "Дата": "12.01",
        "Время": "10:10-13:20",
        "Дисциплина": "3-6 лекция. МАШИННО- ЗАВИСИМЫЕ ЯЗЫКИ",
        "Аудитория": "Жариков В 1301",
        "Контроль": "Лекция"
    },
    {
        "Дата": "12.01",
        "Время": "13:40-16:50",
        "Дисциплина": "7-10 практика. ИНОСТРАННЫЙ ЯЗЫК",
        "Аудитория": "Йованович(анг) 416",
        "Контроль": "Практика"
    },
    {
        "Дата": "13.01",
        "Время": "11:50-13:20",
        "Дисциплина": "5-6 зачёт. ИНОСТРАННЫЙ ЯЗЫК",
        "Аудитория": "Йованович(анг) 416",
        "Контроль": "Зачёт"
    },
    {
        "Дата": "14.01",
        "Время": "8:30-11:40",
        "Дисциплина": "1-4 лабораторная. МАШИННО- ЗАВИСИМЫЕ ЯЗЫКИ",
        "Аудитория": "Жариков В 1301",
        "Контроль": "Лаба"
    },
    {
        "Дата": "15.01",
        "Время": "8:30-11:40",
        "Дисциплина": "1-4 лабораторная. ОСНОВЫ СПО",
        "Аудитория": "Жариков В 1301",
        "Контроль": "Лаба"
    },
    {
        "Дата": "15.01",
        "Время": "13:40-16:50",
        "Дисциплина": "7-10 лекция. ВВЕДЕНИЕ В НАПРАВЛЕН.",
        "Аудитория": "доц. Шкурина Г.Л. В 1002",
        "Контроль": "Лекция"
    },
    {
        "Дата": "16.01",
        "Время": "10:10-13:20",
        "Дисциплина": "3-6 лекция. ЗАДАЧИ МАТ. ФИЗИКИ",
        "Аудитория": "доц. Смирнов Е.А. В 208",
        "Контроль": "Лекция"
    },
    {
        "Дата": "16.01",
        "Время": "13:40-16:50",
        "Дисциплина": "7-10 практика. ТЕОРИЯ ВЕРОЯТН.",
        "Аудитория": "ст.пр.Чесноков О.К. общ.501",
        "Контроль": "Практика"
    },
    {
        "Дата": "17.01",
        "Время": "8:30-11:40",
        "Дисциплина": "1-4 лекция. ТЕОРИЯ ВЕРОЯТН.",
        "Аудитория": "ст.пр.Чесноков О.К. В 1201",
        "Контроль": "Лекция"
    },
    {
        "Дата": "17.01",
        "Время": "11:50-13:20",
        "Дисциплина": "5-6 зачёт. ВВЕДЕНИЕ В НАПРАВЛЕН.",
        "Аудитория": "доц. Шкурина Г.Л. В 1402-1",
        "Контроль": "Зачёт"
    },
    {
        "Дата": "18.01",
        "Время": "8:30-11:40",
        "Дисциплина": "1-4 лабораторная. ОСНОВЫ СПО",
        "Аудитория": "Жариков В 1301",
        "Контроль": "Лаба"
    },
    {
        "Дата": "18.01",
        "Время": "11:50-13:20",
        "Дисциплина": "5-6 зачёт. ОСНОВЫ СПО",
        "Аудитория": "Жариков В 1301",
        "Контроль": "Зачёт"
    },
    {
        "Дата": "19.01",
        "Время": "10:10-13:20",
        "Дисциплина": "3-6 практика. ИНОСТРАННЫЙ ЯЗЫК",
        "Аудитория": "Тихаева (нем) А 603",
        "Контроль": "Практика"
    },
    {
        "Дата": "19.01",
        "Время": "13:40-16:50",
        "Дисциплина": "7-10 лабораторная. ЗАДАЧИ МАТ. ФИЗИКИ",
        "Аудитория": "Смирнов В 501",
        "Контроль": "Лаба"
    },
    {
        "Дата": "21.01",
        "Время": "10:10-13:20",
        "Дисциплина": "3-6 лабораторная. МАШИННО- ЗАВИСИМЫЕ ЯЗЫКИ",
        "Аудитория": "Жариков В 1301",
        "Контроль": "Лаба"
    },
    {
        "Дата": "21.01",
        "Время": "13:40-18:30",
        "Дисциплина": "7-12 экзамен. МАШИННО- ЗАВИСИМЫЕ ЯЗЫКИ",
        "Аудитория": "Жариков В 1301",
        "Контроль": "Экзамен"
    },
    {
        "Дата": "22.01",
        "Время": "10:10-13:20",
        "Дисциплина": "3-6 лабораторная. МЕТОДЫ ОПТИМИЗАЦ.",
        "Аудитория": "Асанова 329",
        "Контроль": "Лаба"
    },
    {
        "Дата": "22.01",
        "Время": "13:40-15:10",
        "Дисциплина": "7-8 экзамен. ТЕОРИЯ ВЕРОЯТН.",
        "Аудитория": "ст.пр.Чесноков О.К. общ.501",
        "Контроль": "Экзамен"
    },
    {
        "Дата": "23.01",
        "Время": "10:10-13:20",
        "Дисциплина": "3-6 лабораторная. МЕТОДЫ ОПТИМИЗАЦ.",
        "Аудитория": "Асанова В 1401",
        "Контроль": "Лаба"
    },
    {
        "Дата": "23.01",
        "Время": "13:40-15:10",
        "Дисциплина": "7-8 зачёт. НЕМЕЦКИЙ ЯЗЫК",
        "Аудитория": "Тихаева (нем) 410б",
        "Контроль": "Зачёт"
    },
    {
        "Дата": "24.01",
        "Время": "8:30-11:40",
        "Дисциплина": "1-4 лабораторная. ЗАДАЧИ МАТ. ФИЗИКИ",
        "Аудитория": "Смирнов В 1201",
        "Контроль": "Лаба"
    },
    {
        "Дата": "24.01",
        "Время": "11:50-13:20",
        "Дисциплина": "5-6 зачёт. ЗАДАЧИ МАТ. ФИЗИКИ",
        "Аудитория": "Смирнов В 1201",
        "Контроль": "Зачёт"
    },
    {
        "Дата": "25.01",
        "Время": "10:10-13:20",
        "Дисциплина": "3-6 лабораторная. СЕТИ И ТЕЛЕКОММУНИК.",
        "Аудитория": "Земцов В 1302",
        "Контроль": "Лекция, Лаба"
    },
    {
        "Дата": "25.01",
        "Время": "13:40-18:30",
        "Дисциплина": "7-12 экзамен. СЕТИ И ТЕЛЕКОММУНИК.",
        "Аудитория": "Земцов В 1302",
        "Контроль": "Экзамен, Лекция"
    },
    {
        "Дата": "26.01",
        "Время": "10:10-13:20",
        "Дисциплина": "3-6 лабораторная. МАШИННАЯ ГРАФИКА",
        "Аудитория": "доц. Федотова Н.В. 412",
        "Контроль": "Лаба"
    },
    {
        "Дата": "26.01",
        "Время": "13:40-15:10",
        "Дисциплина": "7-8 зачёт. МАШИННАЯ ГРАФИКА",
        "Аудитория": "доц. Федотова Н.В. 412",
        "Контроль": "Зачёт"
    },
    {
        "Дата": "27.01",
        "Время": "10:10-13:20",
        "Дисциплина": "3-6 лекция. ЭКОНОМИКА ПРОГРАММНОГО ПРОЕКТА",
        "Аудитория": "проф. Фролов Д.П. В 502",
        "Контроль": "Лекция"
    },
    {
        "Дата": "27.01",
        "Время": "13:40-16:50",
        "Дисциплина": "7-10 практика. ЭКОНОМИКА ПРОГРАММНОГО ПРОЕКТА",
        "Аудитория": "проф. Фролов Д.П. В 501",
        "Контроль": "Практика"
    },
    {
        "Дата": "29.01",
        "Время": "10:10-13:20",
        "Дисциплина": "3-6 лекция. БАЗЫ ДАННЫХ",
        "Аудитория": "проф. Кравец А.Г. В 1401",
        "Контроль": "Лекция"
    },
    {
        "Дата": "29.01",
        "Время": "13:40-16:50",
        "Дисциплина": "7-10 лабораторная. БАЗЫ ДАННЫХ",
        "Аудитория": "Кравец В 1402-3",
        "Контроль": "Лаба"
    },
    {
        "Дата": "30.01",
        "Время": "13:40-15:10",
        "Дисциплина": "7-8 экзамен. МЕТОДЫ ОПТИМИЗАЦ.",
        "Аудитория": "Асанова В 502",
        "Контроль": "Экзамен"
    },
    {
        "Дата": "31.01",
        "Время": "11:50-13:20",
        "Дисциплина": "5-6 практика. ЭКОНОМИКА ПРОГРАММНОГО ПРОЕКТА",
        "Аудитория": "проф. Фролов Д.П. В 601",
        "Контроль": "Практика"
    },
    {
        "Дата": "31.01",
        "Время": "13:40-15:10",
        "Дисциплина": "7-8 зачёт. ЭКОНОМИКА ПРОГРАММНОГО ПРОЕКТА",
        "Аудитория": "проф. Фролов Д.П. В 601",
        "Контроль": "Зачёт"
    },
    {
        "Дата": "01.02",
        "Время": "10:10-13:20",
        "Дисциплина": "3-6 лабораторная. БАЗЫ ДАННЫХ",
        "Аудитория": "Кравец В 1402-3",
        "Контроль": "Лаба"
    },
    {
        "Дата": "02.02",
        "Время": "10:10-15:10",
        "Дисциплина": "3-8 экзамен. БАЗЫ ДАННЫХ",
        "Аудитория": "проф. Кравец А.Г. В 1402-1",
        "Контроль": "Экзамен"
    }
];

document.addEventListener("DOMContentLoaded", function (event) {
  // Your code to run since DOM is loaded and ready

  // children = JSON.parse(jsond);

  function addHeaders(table, keys) {
    var row = table.insertRow();
    for (var i = 0; i < keys.length; i++) {
      var cell = row.insertCell();
      cell.appendChild(document.createTextNode(keys[i]));
    }
  }

  var table = document.createElement("table");
  for (var i = 0; i < children1.length; i++) {
    var child = children1[i];
    if (i === 0) {
      addHeaders(table, Object.keys(child));
    }
    var row = table.insertRow();
    Object.keys(child).forEach(function (k) {
      console.log(k);
      var cell = row.insertCell();
      cell.appendChild(document.createTextNode(child[k]));
    });
  }

  document.querySelector(".leaderboard1").appendChild(table);
});

</script>




  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

  <script type="text/javascript">

  
  // Функция для разбора даты и времени начала задачи
function parseDate(dateString, timeString) {
  const [day, month] = dateString.split('.'); // Разбиваем строку даты на день и месяц
  const [startHour, startMinute] = timeString.split(':'); // Разбиваем строку времени начала на часы и минуты
  return new Date(new Date().getFullYear(), parseInt(month) - 1, parseInt(day), parseInt(startHour), parseInt(startMinute));
}

function calculateDuration(startDate, endDate) {
  const start = startDate.getTime(); // Получаем время в миллисекундах для начальной даты
  const end = endDate.getTime(); // Получаем время в миллисекундах для конечной даты
  const durationInMs = end - start; // Вычисляем разницу между датами в миллисекундах
  const durationInMinutes = durationInMs / (1000 * 60); // Переводим продолжительность из миллисекунд в минуты
  return durationInMinutes; // Возвращаем продолжительность в минутах
}


function toMilliseconds(minutes) {
        return minutes * 60 * 1000;
      }

function getRandomInt(min, max) {
    min = Math.ceil(min);
    max = Math.floor(max);
    return Math.floor(Math.random() * (max - min + 1)) + min;
}
  
    google.charts.load('current', {'packages':['gantt'], 'language': 'ru'});
    google.charts.setOnLoadCallback(drawChart);

    function drawChart() {
      var data = new google.visualization.DataTable();
    
      data.addColumn('string', 'Task ID');
      data.addColumn('string', 'Task Name');
      data.addColumn('string', 'Resourse');
      data.addColumn('date', 'Start Date');
      data.addColumn('date', 'End Date');
      data.addColumn('number', 'Duration');
      data.addColumn('number', 'Percent Complete');
      data.addColumn('string', 'Dependencies');


const formattedTasks = children1.map((task,index) => ([
  String(index), // пустая строка для задачи ID, так как в исходных данных он отсутствует
  task.Дисциплина,
  task.Аудитория,
  parseDate(task.Дата, task.Время.split('-')[0]), // функция parseDate(дата, время) нужно определить
  parseDate(task.Дата, task.Время.split('-')[1]), // функция parseEndDate(дата, время) нужно определить
  toMilliseconds(calculateDuration(parseDate(task.Дата, task.Время.split('-')[0]),parseDate(task.Дата, task.Время.split('-')[1]))), // Продолжительность. В вашем JSON-файле этого значения нет, поэтому используем null
  null, // Процент выполнения. Также отсутствует в исходных данных, поэтому используем null
 null // Зависимости. Аналогично, отсутствует в исходных данных, поэтому используем null
]));

console.log(formattedTasks);
      data.addRows(formattedTasks);

      var options = {
        height: 1000,
		gantt: {
          trackHeight: 30,
		  defaultStartDate: new Date()
        }
      };

      var chart = new google.visualization.Gantt(document.getElementById('chart_div'));
      chart.draw(data, options);
    }

  </script>

  <div id="chart_div"></div>
  <br>
  <br>
  <br>
  <br>
